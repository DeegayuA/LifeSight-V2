(()=>{var e={};e.id=466,e.ids=[466],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},2309:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var a=s(260),n=s(8203),r=s(5155),i=s.n(r),o=s(7292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["app",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1064)),"/Users/deeghayuadhikari/Documents/LifeSight/app/app/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2530)),"/Users/deeghayuadhikari/Documents/LifeSight/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"]}],d=["/Users/deeghayuadhikari/Documents/LifeSight/app/app/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/app/page",pathname:"/app",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2697:(e,t,s)=>{Promise.resolve().then(s.bind(s,1064))},7849:(e,t,s)=>{Promise.resolve().then(s.bind(s,5561))},5561:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ef});var a,n,r,i,o,l,c,d=s(5512),u=s(8009),h=s(7021),p=s(7643),f=s(5409),m=s(1680);let x=(0,m.A)("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]),g=(0,m.A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),y=(0,m.A)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),E=(0,m.A)("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);var v=s(4209);let N=(0,m.A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(a||(a={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(n||(n={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(r||(r={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"}(i||(i={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER"}(o||(o={})),function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"}(l||(l={}));class S extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class j extends S{constructor(e,t){super(e),this.response=t}}!function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"}(c||(c={}));class _{constructor(e,t,s,a){this.model=e,this.task=t,this.apiKey=s,this.stream=a}toString(){let e=`https://generativelanguage.googleapis.com/v1/${this.model}:${this.task}`;return this.stream&&(e+="?alt=sse"),e}}async function A(e,t,s){let a;try{if(!(a=await fetch(e.toString(),Object.assign(Object.assign({},function(e){let t={};if((null==e?void 0:e.timeout)>=0){let s=new AbortController,a=s.signal;setTimeout(()=>s.abort(),e.timeout),t.signal=a}return t}(s)),{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-client":"genai-js/0.2.1","x-goog-api-key":e.apiKey},body:t}))).ok){let e="";try{let t=await a.json();e=t.error.message,t.error.details&&(e+=` ${JSON.stringify(t.error.details)}`)}catch(e){}throw Error(`[${a.status} ${a.statusText}] ${e}`)}}catch(s){let t=new S(`Error fetching from ${e.toString()}: ${s.message}`);throw t.stack=s.stack,t}return a}function T(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){var t,s,a,n;if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),C(e.candidates[0]))throw new j(`${w(e)}`,e);return(null===(n=null===(a=null===(s=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===s?void 0:s.parts)||void 0===a?void 0:a[0])||void 0===n?void 0:n.text)?e.candidates[0].content.parts[0].text:""}if(e.promptFeedback)throw new j(`Text not available. ${w(e)}`,e);return""},e}let O=[o.RECITATION,o.SAFETY];function C(e){return!!e.finishReason&&O.includes(e.finishReason)}function w(e){var t,s,a;let n="";if((!e.candidates||0===e.candidates.length)&&e.promptFeedback)n+="Response was blocked",(null===(t=e.promptFeedback)||void 0===t?void 0:t.blockReason)&&(n+=` due to ${e.promptFeedback.blockReason}`),(null===(s=e.promptFeedback)||void 0===s?void 0:s.blockReasonMessage)&&(n+=`: ${e.promptFeedback.blockReasonMessage}`);else if(null===(a=e.candidates)||void 0===a?void 0:a[0]){let t=e.candidates[0];C(t)&&(n+=`Candidate was blocked due to ${t.finishReason}`,t.finishMessage&&(n+=`: ${t.finishMessage}`))}return n}function I(e){return this instanceof I?(this.v=e,this):new I(e)}"function"==typeof SuppressedError&&SuppressedError;let R=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;async function b(e){let t=[],s=e.getReader();for(;;){let{done:e,value:a}=await s.read();if(e)return T(function(e){let t=e[e.length-1],s={promptFeedback:null==t?void 0:t.promptFeedback};for(let t of e)if(t.candidates)for(let e of t.candidates){let t=e.index;if(s.candidates||(s.candidates=[]),s.candidates[t]||(s.candidates[t]={index:e.index}),s.candidates[t].citationMetadata=e.citationMetadata,s.candidates[t].finishReason=e.finishReason,s.candidates[t].finishMessage=e.finishMessage,s.candidates[t].safetyRatings=e.safetyRatings,e.content&&e.content.parts)for(let a of(s.candidates[t].content||(s.candidates[t].content={role:e.content.role||"user",parts:[{text:""}]}),e.content.parts))a.text&&(s.candidates[t].content.parts[0].text+=a.text)}return s}(t));t.push(a)}}async function M(e,t,s,a){let n=new _(t,c.STREAM_GENERATE_CONTENT,e,!0);return function(e){let[t,s]=(function(e){let t=e.getReader();return new ReadableStream({start(e){let s="";return function a(){return t.read().then(({value:t,done:n})=>{let r;if(n){if(s.trim()){e.error(new S("Failed to parse stream"));return}e.close();return}let i=(s+=t).match(R);for(;i;){try{r=JSON.parse(i[1])}catch(t){e.error(new S(`Error parsing JSON response: "${i[1]}"`));return}e.enqueue(r),i=(s=s.substring(i[0].length)).match(R)}return a()})}()}})})(e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0}))).tee();return{stream:function(e){return function(e,t,s){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var a,n=s.apply(e,t||[]),r=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(e){n[e]&&(a[e]=function(t){return new Promise(function(s,a){r.push([e,t,s,a])>1||o(e,t)})})}function o(e,t){try{var s;(s=n[e](t)).value instanceof I?Promise.resolve(s.value.v).then(l,c):d(r[0][2],s)}catch(e){d(r[0][3],e)}}function l(e){o("next",e)}function c(e){o("throw",e)}function d(e,t){e(t),r.shift(),r.length&&o(r[0][0],r[0][1])}}(this,arguments,function*(){let t=e.getReader();for(;;){let{value:e,done:s}=yield I(t.read());if(s)break;yield yield I(T(e))}})}(t),response:b(s)}}(await A(n,JSON.stringify(s),a))}async function k(e,t,s,a){let n=new _(t,c.GENERATE_CONTENT,e,!1),r=await A(n,JSON.stringify(s),a);return{response:T(await r.json())}}function P(e,t){let s=[];if("string"==typeof e)s=[{text:e}];else for(let t of e)"string"==typeof t?s.push({text:t}):s.push(t);return{role:t,parts:s}}function L(e){return e.contents?e:{contents:[P(e,"user")]}}let D="SILENT_ERROR";class H{constructor(e,t,s,a){this.model=t,this.params=s,this.requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null==s?void 0:s.history)&&(this._history=s.history.map(e=>{if(!e.role)throw Error("Missing role for history item: "+JSON.stringify(e));return P(e.parts,e.role)}))}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var t,s;let a;await this._sendPromise;let n=P(e,"user"),r={safetySettings:null===(t=this.params)||void 0===t?void 0:t.safetySettings,generationConfig:null===(s=this.params)||void 0===s?void 0:s.generationConfig,contents:[...this._history,n]};return this._sendPromise=this._sendPromise.then(()=>k(this._apiKey,this.model,r,this.requestOptions)).then(e=>{var t;if(e.response.candidates&&e.response.candidates.length>0){this._history.push(n);let s=Object.assign({parts:[],role:"model"},null===(t=e.response.candidates)||void 0===t?void 0:t[0].content);this._history.push(s)}else{let t=w(e.response);t&&console.warn(`sendMessage() was unsuccessful. ${t}. Inspect response object for details.`)}a=e}),await this._sendPromise,a}async sendMessageStream(e){var t,s;await this._sendPromise;let a=P(e,"user"),n={safetySettings:null===(t=this.params)||void 0===t?void 0:t.safetySettings,generationConfig:null===(s=this.params)||void 0===s?void 0:s.generationConfig,contents:[...this._history,a]},r=M(this._apiKey,this.model,n,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>r).catch(e=>{throw Error(D)}).then(e=>e.response).then(e=>{if(e.candidates&&e.candidates.length>0){this._history.push(a);let t=Object.assign({},e.candidates[0].content);t.role||(t.role="model"),this._history.push(t)}else{let t=w(e);t&&console.warn(`sendMessageStream() was unsuccessful. ${t}. Inspect response object for details.`)}}).catch(e=>{e.message!==D&&console.error(e)}),r}}async function G(e,t,s,a){let n=new _(t,c.COUNT_TOKENS,e,!1);return(await A(n,JSON.stringify(Object.assign(Object.assign({},s),{model:t})),a)).json()}async function U(e,t,s,a){let n=new _(t,c.EMBED_CONTENT,e,!1);return(await A(n,JSON.stringify(s),a)).json()}async function K(e,t,s,a){let n=new _(t,c.BATCH_EMBED_CONTENTS,e,!1),r=s.requests.map(e=>Object.assign(Object.assign({},e),{model:t}));return(await A(n,JSON.stringify({requests:r}),a)).json()}class F{constructor(e,t,s){this.apiKey=e,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.requestOptions=s||{}}async generateContent(e){let t=L(e);return k(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},t),this.requestOptions)}async generateContentStream(e){let t=L(e);return M(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},t),this.requestOptions)}startChat(e){return new H(this.apiKey,this.model,e,this.requestOptions)}async countTokens(e){let t=L(e);return G(this.apiKey,this.model,t)}async embedContent(e){let t="string"==typeof e||Array.isArray(e)?{content:P(e,"user")}:e;return U(this.apiKey,this.model,t)}async batchEmbedContents(e){return K(this.apiKey,this.model,e,this.requestOptions)}}class B{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new S("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new F(this.apiKey,e,t)}}async function Y(e,t){try{let s="AIzaSyCjLMlEx2Aaw5j-NJYWz3K4Z_kvvh6irEY";if(console.log("API Key:",s),!s)throw Error("Google Cloud API key is not configured");let a=new B(s).getGenerativeModel({model:"gemini-1.5-flash"}),n=[{text:'You are an AI assistant helping a person do their work independently. Based on what you see through the camera and hear from the user input, provide clear, step-by-step guidance. The user asks: "{input}". Respond in a helpful, friendly conversational tone. Focus on practical solutions and clear instructions. DO NOT LIE or make assumptions about capabilities you don\'t have.'.replace("{input}",e)}];t&&n.push({text:`Image: [data:image/jpeg;base64,${t}]`});let r=(await a.generateContent({contents:[{role:"user",parts:n}]})).response;if(!r.text())throw Error("No text response from Gemini API");return{text:r.text()}}catch(e){return console.error("Error calling Gemini API:",e),{text:"",error:"Failed to get response from AI. Please try again."}}}let $=0,q=new Map,V=e=>{if(q.has(e))return;let t=setTimeout(()=>{q.delete(e),X({type:"REMOVE_TOAST",toastId:e})},1e6);q.set(e,t)},z=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?V(s):e.toasts.forEach(e=>{V(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},J=[],W={toasts:[]};function X(e){W=z(W,e),J.forEach(e=>{e(W)})}function Z({...e}){let t=($=($+1)%Number.MAX_VALUE).toString(),s=()=>X({type:"DISMISS_TOAST",toastId:t});return X({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>X({type:"UPDATE_TOAST",toast:{...e,id:t}})}}let Q=(0,m.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function ee({response:e,isLoading:t,onResponseEnd:s}){return((0,u.useRef)(null),t)?(0,d.jsxs)(p.Zp,{className:"p-4 flex items-center justify-center",children:[(0,d.jsx)(Q,{className:"h-6 w-6 animate-spin"}),(0,d.jsx)("span",{className:"ml-2",children:"Processing your request..."})]}):e?(0,d.jsx)(p.Zp,{className:"p-4 space-y-2",children:(0,d.jsx)("p",{className:"text-lg",children:e})}):null}var et=s(2944),es=s(9462),ea=s(1844),en=s(691),er=s(6275),ei=s(8531),eo=s.n(ei);function el(){let[e,t]=(0,u.useState)(!1),[s,a]=(0,u.useState)(!1),[n,r]=(0,u.useState)(!1),[i,o]=(0,u.useState)(""),[l,c]=(0,u.useState)(""),[m,S]=(0,u.useState)(""),[j,_]=(0,u.useState)({cameras:[],mics:[]}),[A,T]=(0,u.useState)(!1),[O,C]=(0,u.useState)(!1),w=(0,u.useRef)(null),I=(0,u.useRef)(null),{isLoading:R,response:b,getResponse:M}=function(){let[e,t]=(0,u.useState)(!1),[s,a]=(0,u.useState)(""),{toast:n}=function(){let[e,t]=u.useState(W);return u.useEffect(()=>(J.push(t),()=>{let e=J.indexOf(t);e>-1&&J.splice(e,1)}),[e]),{...e,toast:Z,dismiss:e=>X({type:"DISMISS_TOAST",toastId:e})}}();return{isLoading:e,response:s,getResponse:async(e,s)=>{t(!0);try{let t=await Y(e,s);if(t.error)return n({title:"Error",description:t.error,variant:"destructive"}),null;return a(t.text),t.text}catch(e){return n({title:"Error",description:"Failed to get AI response. Please try again.",variant:"destructive"}),null}finally{t(!1)}}}}(),{language:k}=(0,et.o)(),P=(0,u.useRef)(null),L=(0,u.useRef)(null),{fontSize:D,lineHeight:H,letterSpacing:G}=(0,en.t)(),U=async(s=!1)=>{try{if((e||s)&&(I.current&&I.current.getTracks().forEach(e=>e.stop()),w.current&&(w.current.srcObject=null)),!e||s){let e=await navigator.mediaDevices.getUserMedia({video:{deviceId:l}});w.current&&(w.current.srcObject=e),I.current=e}t(!e||s)}catch(e){console.error("Error toggling camera:",e)}},K=(0,u.useCallback)(()=>{window.speechSynthesis.cancel(),r(!1),A&&(F(!0),T(!1))},[A]),F=async(e=!1)=>{try{if(K(),(s||e)&&(I.current&&I.current.getTracks().forEach(e=>{"audio"===e.kind&&e.stop()}),P.current&&P.current.stop()),!s||e){let e=await navigator.mediaDevices.getUserMedia({audio:{deviceId:m}});I.current=e,q()}a(!s||e)}catch(e){console.error("Error toggling microphone:",e)}},B=async()=>{if(!w.current)return null;let e=document.createElement("canvas");e.width=w.current.videoWidth,e.height=w.current.videoHeight;let t=e.getContext("2d");return t?(t.drawImage(w.current,0,0),e.toDataURL("image/jpeg").split(",")[1]):null},$=async()=>{if(!i.trim())return;let t=e?await B():void 0;await M(i,"string"==typeof t?t:void 0),o("")},q=()=>{console.error("Speech recognition is not supported in this browser.")};(0,u.useCallback)(async e=>e.includes("start camera")?(await U(!0),!0):e.includes("stop camera")?(await U(!1),!0):e.includes("start mic")?(await F(!0),!0):e.includes("stop mic")?(await F(!1),!0):!!(e.includes("repeat")||e.includes("respeak"))&&(await V(),!0),[b]);let V=async()=>{if(!b)return;s&&(await F(!1),T(!0));let e=new SpeechSynthesisUtterance(b);L.current=e,r(!0),e.onend=()=>{r(!1),A&&(F(!0),T(!1))},e.onerror=()=>{r(!1),A&&(F(!0),T(!1))},window.speechSynthesis.speak(e)};return(0,d.jsxs)("div",{className:"flex w-100 flex-col space-y-4 my-4",style:{fontSize:D,lineHeight:H,letterSpacing:`${G}px`},children:[(0,d.jsx)("div",{className:"relative h-[40vh] shrink-0",children:(0,d.jsxs)(p.Zp,{className:"h-full w-full overflow-hidden",children:[(0,d.jsx)("video",{ref:w,autoPlay:!0,playsInline:!0,muted:!0,className:(0,es.cn)("w-full h-full object-cover",!e&&"hidden")}),!e&&(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:(0,d.jsx)(x,{className:"w-12 h-12 text-muted-foreground"})})]})}),(0,d.jsx)("div",{className:"h-[15vh] overflow-y-auto",children:(0,d.jsx)(p.Zp,{className:"h-full p-4",children:(0,d.jsx)(ee,{response:b,isLoading:R,onResponseEnd:()=>{}})})}),(0,d.jsx)(er.O,{open:O,onOpenChange:C}),(0,d.jsxs)("div",{className:"flex flex-col gap-2 w-100 xl:flex-row",children:[(0,d.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,d.jsxs)(h.$,{variant:e?"default":"outline",onClick:()=>U(),className:"flex-1 relative min-h-[48px]",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center",children:[e?(0,d.jsx)(g,{className:"mr-2"}):(0,d.jsx)(x,{className:"mr-2"}),(0,d.jsx)("span",{children:e?"Stop Camera":"Start Camera"})]}),e?(0,d.jsxs)("div",{className:"absolute left-3 top-2 flex items-center gap-1",children:[(0,d.jsx)("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),(0,d.jsx)("span",{className:"text-s text-green-500",children:"Live"})]}):(0,d.jsxs)("div",{className:"absolute left-3 top-2 flex items-center gap-1",children:[(0,d.jsx)("div",{className:"h-2 w-2 rounded-full bg-red-500"}),(0,d.jsx)("span",{className:"text-s text-red-500",children:"Off"})]})]}),(0,d.jsxs)(ea.m_,{children:[(0,d.jsx)(ea.k$,{asChild:!0,children:(0,d.jsxs)(h.$,{variant:s?"default":"outline",onClick:()=>F(),className:"flex-1 relative min-h-[48px]",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center",children:[s?(0,d.jsx)(y,{className:"mr-2"}):(0,d.jsx)(E,{className:"mr-2"}),(0,d.jsx)("span",{children:s?"Stop Mic":"Start Mic"})]}),n?(0,d.jsxs)("div",{className:"absolute left-3 top-2 flex items-center gap-1",children:[(0,d.jsx)("div",{className:"h-2 w-2 rounded-full bg-yellow-500 animate-pulse"}),(0,d.jsx)("span",{className:"text-s text-yellow-500",children:"Paused"})]}):s?(0,d.jsxs)("div",{className:"absolute left-3 top-2 flex items-center gap-1",children:[(0,d.jsx)("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),(0,d.jsx)("span",{className:"text-s text-green-500",children:"Listening"})]}):(0,d.jsxs)("div",{className:"absolute left-3 top-2 flex items-center gap-1",children:[(0,d.jsx)("div",{className:"h-2 w-2 rounded-full bg-red-500"}),(0,d.jsx)("span",{className:"text-s text-red-500",children:"Off"})]})]})}),(0,d.jsx)(ea.ZI,{side:"top",align:"center",children:(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("p",{children:"Available voice commands:"}),(0,d.jsxs)("ul",{className:"list-disc pl-4",children:[(0,d.jsx)("li",{children:"start camera"}),(0,d.jsx)("li",{children:"stop camera"}),(0,d.jsx)("li",{children:"start mic"}),(0,d.jsx)("li",{children:"stop mic"}),(0,d.jsx)("li",{children:"repeat"}),(0,d.jsx)("li",{children:"respeak"})]})]})})]}),(0,d.jsx)(h.$,{asChild:!0,variant:"secondary",className:"flex-1 relative min-h-[48px]",children:(0,d.jsxs)(eo(),{href:"/call-assistant",children:[(0,d.jsx)(v.A,{className:"mr-2"}),(0,d.jsx)("span",{children:"Call Assistance"})]})})]}),(0,d.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,d.jsx)(f.p,{value:i,onChange:e=>o(e.target.value),placeholder:"Type your question or command...",onKeyPress:e=>"Enter"===e.key&&$(),className:"flex-1"}),(0,d.jsx)(h.$,{className:"w-16 h-16",onClick:$,children:(0,d.jsx)(N,{className:"w-8 h-8"})})]})]})]})}var ec=s(1965);let ed=(0,m.A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),eu=(0,m.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function eh({onComplete:e}){return(0,d.jsx)(ec.lG,{open:!0,onOpenChange:e,children:(0,d.jsxs)(ec.Cf,{className:"sm:max-w-[425px]",children:[(0,d.jsxs)(ec.c7,{children:[(0,d.jsx)(ec.L3,{children:"Welcome to Lifesight"}),(0,d.jsx)(ec.rr,{children:"Let's get you started with using our AI-powered assistant."})]}),(0,d.jsxs)("div",{className:"py-4 space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)(g,{className:"w-5 h-5 mt-0.5 text-primary"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-medium",children:"Camera Access"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"We'll use your camera to help understand your surroundings"})]})]}),(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)(y,{className:"w-5 h-5 mt-0.5 text-primary"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-medium",children:"Voice Commands"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Speak naturally to interact with the assistant"})]})]}),(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)(ed,{className:"w-5 h-5 mt-0.5 text-primary"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-medium",children:"Text Input"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Type your questions if you prefer text communication"})]})]})]}),(0,d.jsx)(ec.Es,{children:(0,d.jsxs)(h.$,{onClick:e,className:"w-full",children:[(0,d.jsx)(eu,{className:"w-4 h-4 mr-2"}),"Get Started"]})})]})})}var ep=s(3197);function ef(){let[e,t]=(0,ep.M)("hasSeenOnboarding",!1),[s,a]=(0,u.useState)(!1);return s?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("main",{className:(0,es.cn)("bg-background overflow-hidden"),children:(0,d.jsxs)(ea.Bc,{children:[(0,d.jsx)(el,{}),!e&&(0,d.jsx)(eh,{onComplete:()=>t(!0)})]})})}):null}},7643:(e,t,s)=>{"use strict";s.d(t,{Zp:()=>i});var a=s(5512),n=s(8009),r=s(9462);let i=n.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card",n.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",n.forwardRef(({className:e,...t},s)=>(0,a.jsx)("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",n.forwardRef(({className:e,...t},s)=>(0,a.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription",n.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",e),...t})).displayName="CardContent",n.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},5409:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var a=s(5512),n=s(8009),r=s(9462);let i=n.forwardRef(({className:e,type:t,...s},n)=>(0,a.jsx)("input",{type:t,className:(0,r.cn)("flex h-16 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...s}));i.displayName="Input"},4209:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1680).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},1064:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/deeghayuadhikari/Documents/LifeSight/app/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/deeghayuadhikari/Documents/LifeSight/app/app/page.tsx","default")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[10,394],()=>s(2309));module.exports=a})();